<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ Mini Spelling Bee</title>
    <style>
        /* ì „ì—­ ì„¤ì • - 8ë¹„íŠ¸/í”½ì…€ ëŠë‚Œ */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Courier New', monospace; /* í”½ì…€ ëŠë‚Œì˜ ì‹œìŠ¤í…œ í°íŠ¸ */
            background: linear-gradient(45deg, #e3f2fd 0%, #f3e5f5 50%, #e8f5e8 100%);
            min-height: 100vh;
            padding: 10px;
            /* í”½ì…€ ëŠë‚Œì„ ìœ„í•œ ì´ë¯¸ì§€ ë Œë”ë§ */
            image-rendering: pixelated;
            image-rendering: -moz-crisp-edges;
            image-rendering: crisp-edges;
        }

        /* ë„íŠ¸ ë°°ê²½ íŒ¨í„´ */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(circle at 25% 25%, #ffb3ba 2px, transparent 2px),
                radial-gradient(circle at 75% 75%, #bae1ff 2px, transparent 2px),
                radial-gradient(circle at 50% 90%, #baffc9 2px, transparent 2px);
            background-size: 50px 50px, 80px 80px, 60px 60px;
            z-index: -1;
            opacity: 0.6;
        }

        /* ë©”ì¸ ì»¨í…Œì´ë„ˆ */
        .app {
            max-width: 500px;
            margin: 0 auto;
            position: relative;
        }

        /* í—¤ë” - ë„íŠ¸ ìŠ¤íƒ€ì¼ */
        .header {
            background: #ffffff;
            border: 3px solid #333;
            border-radius: 0; /* í”½ì…€ ëŠë‚Œì„ ìœ„í•´ ê°ì§„ ëª¨ì„œë¦¬ */
            padding: 15px;
            margin-bottom: 20px;
            position: relative;
            box-shadow: 4px 4px 0 rgba(0,0,0,0.2); /* 8ë¹„íŠ¸ ê·¸ë¦¼ì */
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }

        .title {
            font-size: 1.8rem;
            font-weight: bold;
            color: #333;
            text-shadow: 2px 2px 0 #fff;
        }

        /* ì ìˆ˜ ë°°ì§€ */
        .score-badge {
            background: #4caf50;
            color: white;
            padding: 8px 12px;
            border: 2px solid #333;
            font-weight: bold;
            font-size: 0.9rem;
        }

        /* ê²Œì„ ì¹´ë“œ */
        .game-card {
            background: #ffffff;
            border: 3px solid #333;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 6px 6px 0 rgba(0,0,0,0.2);
            position: relative;
        }

        /* ì‹œì‘ í™”ë©´ */
        .start-screen {
            text-align: center;
        }

        .start-button {
            background: #2196f3;
            color: white;
            border: 3px solid #333;
            padding: 15px 30px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.1s;
            font-family: inherit;
        }

        .start-button:hover {
            background: #1976d2;
            transform: translate(-2px, -2px);
            box-shadow: 4px 4px 0 rgba(0,0,0,0.3);
        }

        .start-button:active {
            transform: translate(2px, 2px);
            box-shadow: 1px 1px 0 rgba(0,0,0,0.3);
        }

        /* ê²Œì„ í™”ë©´ */
        .game-screen {
            display: none;
        }

        /* ë‹¨ì–´ í‘œì‹œ (ì ìœ¼ë¡œ) */
        .word-dots {
            text-align: center;
            margin: 20px 0;
            font-size: 2rem;
            color: #666;
            letter-spacing: 8px;
        }

        /* íŒíŠ¸ ì˜ì—­ */
        .hint-section {
            text-align: center;
            margin: 15px 0;
        }

        .hint-button {
            background: #ff9800;
            color: white;
            border: 2px solid #333;
            padding: 8px 16px;
            font-size: 0.9rem;
            cursor: pointer;
            font-family: inherit;
            font-weight: bold;
        }

        .hint-button:hover {
            background: #f57c00;
        }

        .hint-text {
            display: none;
            margin-top: 10px;
            padding: 10px;
            background: #fff3cd;
            border: 2px solid #333;
            color: #856404;
            font-weight: bold;
        }

        /* ì…ë ¥ ì˜ì—­ */
        .input-section {
            margin: 20px 0;
        }

        .word-input {
            width: 100%;
            padding: 15px;
            border: 3px solid #333;
            font-size: 1.2rem;
            text-align: center;
            font-family: inherit;
            font-weight: bold;
            background: #f8f9fa;
        }

        .word-input:focus {
            outline: none;
            background: #e3f2fd;
            box-shadow: inset 0 0 0 2px #2196f3;
        }

        /* ë²„íŠ¼ ì˜ì—­ */
        .button-section {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .game-button {
            background: #4caf50;
            color: white;
            border: 3px solid #333;
            padding: 12px 24px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            font-family: inherit;
            min-width: 100px;
        }

        .game-button:hover {
            background: #388e3c;
            transform: translate(-1px, -1px);
            box-shadow: 3px 3px 0 rgba(0,0,0,0.2);
        }

        .game-button:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .next-button {
            background: #9c27b0;
        }

        .next-button:hover {
            background: #7b1fa2;
        }

        /* ê²°ê³¼ ë©”ì‹œì§€ */
        .result-message {
            display: none;
            text-align: center;
            padding: 15px;
            margin: 15px 0;
            font-size: 1.2rem;
            font-weight: bold;
            border: 3px solid #333;
        }

        .result-correct {
            background: #c8e6c9;
            color: #2e7d32;
        }

        .result-wrong {
            background: #ffcdd2;
            color: #c62828;
        }

        /* ë¡œê·¸ ì˜ì—­ */
        .log-section {
            background: #ffffff;
            border: 3px solid #333;
            padding: 15px;
            box-shadow: 4px 4px 0 rgba(0,0,0,0.2);
        }

        .log-title {
            font-weight: bold;
            margin-bottom: 10px;
            color: #333;
        }

        .log-item {
            display: flex;
            align-items: center;
            padding: 5px 0;
            border-bottom: 1px dotted #ccc;
            font-size: 0.9rem;
        }

        .log-item:last-child {
            border-bottom: none;
        }

        .log-icon {
            margin-right: 8px;
            font-size: 1.2rem;
        }

        /* ë°˜ì‘í˜• ë””ìì¸ */
        @media (max-width: 600px) {
            .title {
                font-size: 1.4rem;
            }
            
            .game-card {
                padding: 20px;
            }
            
            .word-dots {
                font-size: 1.5rem;
                letter-spacing: 4px;
            }
            
            .header-content {
                gap: 10px;
            }
        }

        /* ì ‘ê·¼ì„± - í¬ì»¤ìŠ¤ í‘œì‹œ */
        button:focus,
        input:focus {
            outline: 3px solid #ff6b35;
            outline-offset: 2px;
        }

        /* ìˆ¨ê¹€ í´ë˜ìŠ¤ */
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="app">
        <!-- í—¤ë” -->
        <div class="header">
            <div class="header-content">
                <h1 class="title">ğŸ Mini Spelling Bee</h1>
                <div class="score-badge" id="scoreBadge" aria-label="ì ìˆ˜">
                    0/0
                </div>
            </div>
        </div>

        <!-- ê²Œì„ ì¹´ë“œ -->
        <div class="game-card">
            <!-- ì‹œì‘ í™”ë©´ -->
            <div class="start-screen" id="startScreen">
                <h2>ì˜ì–´ ì² ì ë§íˆê¸° ê²Œì„! ğŸŒ»</h2>
                <p style="margin: 20px 0; color: #666;">ë‹¨ì–´ì˜ ì² ìë¥¼ ì •í™•íˆ ì…ë ¥í•´ë³´ì„¸ìš”!</p>
                <button class="start-button" onclick="startGame()" aria-label="ê²Œì„ ì‹œì‘">
                    ğŸ ê²Œì„ ì‹œì‘
                </button>
            </div>

            <!-- ê²Œì„ í™”ë©´ -->
            <div class="game-screen" id="gameScreen">
                <!-- ë‹¨ì–´ ì  í‘œì‹œ -->
                <div class="word-dots" id="wordDots" aria-label="ë‹¨ì–´ ê¸¸ì´"></div>

                <!-- íŒíŠ¸ ì˜ì—­ -->
                <div class="hint-section">
                    <button class="hint-button" onclick="toggleHint()" id="hintButton" aria-label="íŒíŠ¸ ë³´ê¸°">
                        ğŸ’¡ íŒíŠ¸ ë³´ê¸°
                    </button>
                    <div class="hint-text" id="hintText" role="tooltip"></div>
                </div>

                <!-- ì…ë ¥ ì˜ì—­ -->
                <div class="input-section">
                    <input 
                        type="text" 
                        class="word-input" 
                        id="wordInput" 
                        placeholder="ì˜ì–´ ë‹¨ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”"
                        aria-label="ë‹¨ì–´ ì…ë ¥"
                        autocomplete="off"
                    >
                </div>

                <!-- ê²°ê³¼ ë©”ì‹œì§€ -->
                <div class="result-message" id="resultMessage" role="alert"></div>

                <!-- ë²„íŠ¼ ì˜ì—­ -->
                <div class="button-section">
                    <button 
                        class="game-button" 
                        onclick="checkAnswer()" 
                        id="checkButton"
                        aria-label="ì •ë‹µ í™•ì¸"
                    >
                        ğŸ“ ì±„ì í•˜ê¸°
                    </button>
                    <button 
                        class="game-button next-button hidden" 
                        onclick="nextQuestion()" 
                        id="nextButton"
                        aria-label="ë‹¤ìŒ ë¬¸ì œ"
                    >
                        â¡ï¸ ë‹¤ìŒ
                    </button>
                </div>
            </div>
        </div>

        <!-- ë¡œê·¸ ì„¹ì…˜ -->
        <div class="log-section" id="logSection" style="display: none;">
            <div class="log-title">ğŸ“‹ ìµœê·¼ ê²°ê³¼</div>
            <div id="logContainer"></div>
        </div>
    </div>

    <script>
        // ê²Œì„ ë°ì´í„° - 20ê°œ ë‹¨ì–´ì™€ í•œêµ­ì–´ ëœ»
        const WORDS_DATA = {
            "achievement": "ì„±ì·¨",
            "adventure": "ëª¨í—˜", 
            "ancient": "ê³ ëŒ€ì˜",
            "attitude": "íƒœë„",
            "celebrate": "ì¶•í•˜í•˜ë‹¤",
            "community": "ê³µë™ì²´",
            "curious": "í˜¸ê¸°ì‹¬ ë§ì€",
            "dangerous": "ìœ„í—˜í•œ",
            "environment": "í™˜ê²½",
            "experience": "ê²½í—˜",
            "festival": "ì¶•ì œ",
            "friendship": "ìš°ì •",
            "impossible": "ë¶ˆê°€ëŠ¥í•œ",
            "interesting": "í¥ë¯¸ë¡œìš´",
            "knowledge": "ì§€ì‹",
            "language": "ì–¸ì–´",
            "memorable": "ê¸°ì–µí•  ë§Œí•œ",
            "ordinary": "í‰ë²”í•œ",
            "responsible": "ì±…ì„ê° ìˆëŠ”",
            "tradition": "ì „í†µ"
        };

        // ê²Œì„ ìƒíƒœ ë³€ìˆ˜ë“¤
        let gameState = {
            currentWord: '',           // í˜„ì¬ ë¬¸ì œ ë‹¨ì–´
            wordsList: [],            // ì‚¬ìš© ê°€ëŠ¥í•œ ë‹¨ì–´ ëª©ë¡ (ì¤‘ë³µ ë°©ì§€ìš©)
            correctCount: 0,          // ì •ë‹µ ìˆ˜
            totalCount: 0,           // ì´ ì‹œë„ ìˆ˜
            gameLog: [],             // ê²Œì„ ë¡œê·¸ (ìµœê·¼ 3ê±´)
            isAnswered: false        // í˜„ì¬ ë¬¸ì œ ë‹µë³€ ì—¬ë¶€
        };

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', function() {
            // ì—”í„°í‚¤ ì´ë²¤íŠ¸ ë“±ë¡
            document.getElementById('wordInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    if (!gameState.isAnswered) {
                        checkAnswer();
                    } else {
                        nextQuestion();
                    }
                }
            });

            // ë‹¨ì–´ ëª©ë¡ ì´ˆê¸°í™”
            resetWordsList();
        });

        /**
         * ê²Œì„ ì‹œì‘ í•¨ìˆ˜
         */
        function startGame() {
            // í™”ë©´ ì „í™˜
            document.getElementById('startScreen').style.display = 'none';
            document.getElementById('gameScreen').style.display = 'block';
            document.getElementById('logSection').style.display = 'block';

            // ì²« ë²ˆì§¸ ë¬¸ì œ ì¶œì œ
            nextQuestion();

            // ì…ë ¥ì°½ì— í¬ì»¤ìŠ¤
            document.getElementById('wordInput').focus();
        }

        /**
         * ë‹¨ì–´ ëª©ë¡ ì´ˆê¸°í™” (ì¤‘ë³µ ë°©ì§€ìš©)
         */
        function resetWordsList() {
            gameState.wordsList = Object.keys(WORDS_DATA);
            shuffleArray(gameState.wordsList);
        }

        /**
         * ë°°ì—´ ì„ê¸° í•¨ìˆ˜ (Fisher-Yates ì•Œê³ ë¦¬ì¦˜)
         */
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        /**
         * ë‹¤ìŒ ë¬¸ì œ ì¶œì œ
         */
        function nextQuestion() {
            // ë‹¨ì–´ ëª©ë¡ì´ ë¹„ì—ˆìœ¼ë©´ ë‹¤ì‹œ ì´ˆê¸°í™”
            if (gameState.wordsList.length === 0) {
                resetWordsList();
            }

            // ëœë¤ ë‹¨ì–´ ì„ íƒ (ëª©ë¡ì—ì„œ ì œê±°í•˜ì—¬ ì¤‘ë³µ ë°©ì§€)
            const randomIndex = Math.floor(Math.random() * gameState.wordsList.length);
            gameState.currentWord = gameState.wordsList.splice(randomIndex, 1)[0];
            gameState.isAnswered = false;

            // UI ì—…ë°ì´íŠ¸
            updateWordDots();
            resetInput();
            hideResult();
            hideHint();
            updateButtons();
        }

        /**
         * ë‹¨ì–´ë¥¼ ì ìœ¼ë¡œ í‘œì‹œ (ê¸€ì ìˆ˜ë§Œí¼)
         */
        function updateWordDots() {
            const dotCount = gameState.currentWord.length;
            const dots = 'â—'.repeat(dotCount);
            document.getElementById('wordDots').textContent = dots;
            document.getElementById('wordDots').setAttribute('aria-label', `${dotCount}ê¸€ì ë‹¨ì–´`);
        }

        /**
         * ì…ë ¥ì°½ ì´ˆê¸°í™”
         */
        function resetInput() {
            const input = document.getElementById('wordInput');
            input.value = '';
            input.disabled = false;
        }

        /**
         * íŒíŠ¸ í† ê¸€
         */
        function toggleHint() {
            const hintText = document.getElementById('hintText');
            const hintButton = document.getElementById('hintButton');
            
            if (hintText.style.display === 'none' || !hintText.style.display) {
                // íŒíŠ¸ ë³´ê¸°
                hintText.textContent = `ğŸ’¡ ${WORDS_DATA[gameState.currentWord]}`;
                hintText.style.display = 'block';
                hintButton.textContent = 'ğŸ™ˆ íŒíŠ¸ ìˆ¨ê¸°ê¸°';
                hintButton.setAttribute('aria-label', 'íŒíŠ¸ ìˆ¨ê¸°ê¸°');
            } else {
                // íŒíŠ¸ ìˆ¨ê¸°ê¸°
                hideHint();
            }
        }

        /**
         * íŒíŠ¸ ìˆ¨ê¸°ê¸°
         */
        function hideHint() {
            const hintText = document.getElementById('hintText');
            const hintButton = document.getElementById('hintButton');
            
            hintText.style.display = 'none';
            hintButton.textContent = 'ğŸ’¡ íŒíŠ¸ ë³´ê¸°';
            hintButton.setAttribute('aria-label', 'íŒíŠ¸ ë³´ê¸°');
        }

        /**
         * ì •ë‹µ í™•ì¸
         */
        function checkAnswer() {
            const userInput = document.getElementById('wordInput').value.trim().toLowerCase();
            const correctAnswer = gameState.currentWord.toLowerCase();

            // ë¹ˆ ì…ë ¥ ì²´í¬
            if (!userInput) {
                alert('ë‹¨ì–´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!');
                return;
            }

            // ì´ë¯¸ ë‹µë³€í–ˆëŠ”ì§€ ì²´í¬
            if (gameState.isAnswered) {
                return;
            }

            // ë‹µë³€ ì²˜ë¦¬
            gameState.isAnswered = true;
            gameState.totalCount++;

            let isCorrect = userInput === correctAnswer;
            
            if (isCorrect) {
                gameState.correctCount++;
                showResult(true, 'ğŸ ì •ë‹µì…ë‹ˆë‹¤!');
            } else {
                showResult(false, `ğŸ˜… í‹€ë ¸ìŠµë‹ˆë‹¤! ì •ë‹µ: ${gameState.currentWord}`);
            }

            // ë¡œê·¸ ì¶”ê°€
            addToLog(isCorrect, gameState.currentWord);

            // ì ìˆ˜ ì—…ë°ì´íŠ¸
            updateScore();

            // ë²„íŠ¼ ìƒíƒœ ë³€ê²½
            updateButtons();

            // ì…ë ¥ì°½ ë¹„í™œì„±í™”
            document.getElementById('wordInput').disabled = true;
        }

        /**
         * ê²°ê³¼ í‘œì‹œ
         */
        function showResult(isCorrect, message) {
            const resultDiv = document.getElementById('resultMessage');
            resultDiv.textContent = message;
            resultDiv.className = `result-message ${isCorrect ? 'result-correct' : 'result-wrong'}`;
            resultDiv.style.display = 'block';

            // ì ‘ê·¼ì„±ì„ ìœ„í•œ aria-live ì—…ë°ì´íŠ¸
            resultDiv.setAttribute('aria-live', 'polite');
        }

        /**
         * ê²°ê³¼ ìˆ¨ê¸°ê¸°
         */
        function hideResult() {
            document.getElementById('resultMessage').style.display = 'none';
        }

        /**
         * ì ìˆ˜ ì—…ë°ì´íŠ¸
         */
        function updateScore() {
            const scoreBadge = document.getElementById('scoreBadge');
            scoreBadge.textContent = `${gameState.correctCount}/${gameState.totalCount}`;
            scoreBadge.setAttribute('aria-label', `${gameState.totalCount}ë²ˆ ì¤‘ ${gameState.correctCount}ë²ˆ ì •ë‹µ`);
        }

        /**
         * ë²„íŠ¼ ìƒíƒœ ì—…ë°ì´íŠ¸
         */
        function updateButtons() {
            const checkButton = document.getElementById('checkButton');
            const nextButton = document.getElementById('nextButton');

            if (gameState.isAnswered) {
                // ë‹µë³€ í›„ ìƒíƒœ
                checkButton.style.display = 'none';
                nextButton.classList.remove('hidden');
                nextButton.focus(); // ë‹¤ìŒ ë²„íŠ¼ì— í¬ì»¤ìŠ¤
            } else {
                // ë‹µë³€ ì „ ìƒíƒœ
                checkButton.style.display = 'inline-block';
                nextButton.classList.add('hidden');
            }
        }

        /**
         * ë¡œê·¸ì— ê²°ê³¼ ì¶”ê°€ (ìµœê·¼ 3ê°œë§Œ ìœ ì§€)
         */
        function addToLog(isCorrect, word) {
            const logItem = {
                isCorrect: isCorrect,
                word: word,
                timestamp: Date.now()
            };

            // ë§¨ ì•ì— ì¶”ê°€
            gameState.gameLog.unshift(logItem);

            // ìµœëŒ€ 3ê°œê¹Œì§€ë§Œ ìœ ì§€
            if (gameState.gameLog.length > 3) {
                gameState.gameLog = gameState.gameLog.slice(0, 3);
            }

            // ë¡œê·¸ UI ì—…ë°ì´íŠ¸
            updateLogDisplay();
        }

        /**
         * ë¡œê·¸ í™”ë©´ ì—…ë°ì´íŠ¸
         */
        function updateLogDisplay() {
            const logContainer = document.getElementById('logContainer');
            
            if (gameState.gameLog.length === 0) {
                logContainer.innerHTML = '<div style="color: #999;">ì•„ì§ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.</div>';
                return;
            }

            let html = '';
            gameState.gameLog.forEach(item => {
                const icon = item.isCorrect ? 'ğŸ' : 'ğŸ˜…';
                const className = item.isCorrect ? 'correct' : 'wrong';
                html += `
                    <div class="log-item">
                        <span class="log-icon">${icon}</span>
                        <span>${item.word}</span>
                    </div>
                `;
            });

            logContainer.innerHTML = html;
        }
    </script>
</body>
</html>
